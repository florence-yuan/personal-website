---
import PostTextCard from "./PostTextCard.astro";

const { category } = Astro.props;

console.log(category)

let posts = [];
switch (category) {
    case 'fiction':
        posts = Object.values(import.meta.glob('../../pages/posts/fiction/*/*/*.md', { eager: true }));
        break;
    case 'blog':
        console.log('HEY', posts)
        posts = Object.values(import.meta.glob('../../pages/posts/blog/*.md', { eager: true }));
        break;
    default:
        console.error("Category doesn't exist:", category);
        break;
}
---

<ul class="post-grid">
    {posts.map((post: any) => (
        <PostTextCard
            url={post.url}
            frontmatter={post.frontmatter}
            category={category}
        />
    ))}
</ul>

<style>
    .post-grid {
    }

    @media (min-width: 1024px) {
        .post-grid {
            margin-top: 3rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(25rem, 1fr));
            gap: 3rem;
        }
    }
</style>